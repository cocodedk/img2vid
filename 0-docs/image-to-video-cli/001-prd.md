# Image-to-Video CLI PRD

## Objective
- Build a Python 3.11+ tool packaged as CLI `img2vid`.
- Reuse Flask app scaffolding to expose the same logic via HTTP when needed, but deliver CLI first.
- Convert ordered images from a folder into a single MP4 slideshow with synchronized audio.

## Users & Use Cases
- Solo creators needing quick slideshow assembly without full editing suites.
- Internal teams producing rotating announcement loops in kiosks.

## Functional Requirements
- CLI accepts required `--input-dir` and `--output-video`, optional `--audio` soundtrack.
- Automatically sort images by filename; support `.jpg`, `.jpeg`, `.png`.
- Display each image for `--frame-duration-ms` (default 3000) and allow per-run override.
- Apply cross-fade transitions controlled by `--transition-ms` (default 500) and guard against values longer than the frame duration.
- Merge audio trimmed or looped to match final runtime; fade audio in/out aligning with visual transitions.
- Provide progress logging and final duration summary in the terminal.
- Exit with non-zero status when validation fails (missing folder, unsupported formats, audio shorter than minimum).

## Technical Notes
- Leverage open-source media tooling (e.g., MoviePy or ffmpeg bindings) that works headless for CLI environments.
- Organize code so a shared service layer powers both CLI and future Flask blueprint.
- Default output video to H.264 MP4 at 30 fps; expose flags for frame rate and resolution adjustments later.
- Standardize on the latest Python environment manager `uv` to provision a Python 3.12 runtime and manage dependencies reproducibly.

## Constraints & Out of Scope
- No GUI or web frontend in this iteration.
- No remote asset downloads; all assets must reside locally.
- Assume consistent aspect ratios; beyond optional letterboxing, no auto-cropping or scaling heuristics.

## Future Enhancements
- Add `--start-text` and `--end-text` overlays with configurable fonts and timing.
- Publish a Flask REST endpoint mirroring the CLI parameters for automation.
